# droneA — Simple 3-DOF Quadcopter (Simulink)

This project contains a minimal Simulink model and MATLAB driver script to simulate a 3-DOF drone trajectory and visualize the results.

## What's inside

- `quadcopter_simple.slx` — Simulink model of a simplified drone.
- `run_drone.m` — MATLAB script: sets reference trajectories, runs the model, and plots/saves figures.
- `trajectory.fig` — Saved 3D trajectory figure (generated by the script).
- `position_vs_time.png` — Saved time-series plot image (generated by the script).
- `slprj/` — Simulink build/cache folder (auto-generated; ignored by git).

## Requirements

- MATLAB with Simulink installed.
- Tested with recent MATLAB releases; no toolboxes beyond Simulink expected.

## How it works

`run_drone.m`:
- Builds a reference trajectory for X/Y/Z as `timeseries` variables `x_ref`, `y_ref`, `z_ref` in the base workspace.
- Opens and simulates `quadcopter_simple.slx` for `Tsim` seconds.
- Expects the model to publish outputs as `x_out`, `y_out`, `z_out` (preferably as `timeseries` via To Workspace blocks). The script can also fall back to base workspace variables if needed.
- Plots 3D trajectory and each axis vs time, saving `trajectory.fig` and `position_vs_time.png`.

## Run it

1. Open MATLAB and set the current folder to this project directory.
2. Run:
   ```matlab
   run('run_drone.m')
   ```
3. After the simulation, figures will display and be saved to disk.

## Customize the trajectory

Open `run_drone.m` and adjust these sections:
- `Tsim` — total simulation time.
- The segments labeled “Phase 1 / Phase 2” to change ascent/forward motion. For example, you can add a hover, or a circle pattern by modifying `x_ref_values`, `y_ref_values`, `z_ref_values` before building the `timeseries` objects.

## Troubleshooting

- "Cannot find simulation outputs x_out/y_out/z_out":
  - In Simulink, ensure your To Workspace blocks are configured with:
    - Variable names: `x_out`, `y_out`, `z_out`
    - Save format: `Timeseries` (recommended)
  - Or adapt the script names if your model uses different variable names.
- Input references missing:
  - Make sure the model uses `x_ref`, `y_ref`, `z_ref` from the base workspace (or change the script/model to match).
- Simulation time mismatch:
  - The script sets `StopTime` from `Tsim`. Ensure the model uses a fixed-step/variable-step solver suitable for your dynamics.

## Version control notes

A project-appropriate `.gitignore` is included to exclude Simulink caches and temporary files (`slprj/`, `*.slxc`, autosave files, etc.). Generated figures (`*.fig`, `*.png`) are typically reproducible—keep or ignore them based on your workflow.
